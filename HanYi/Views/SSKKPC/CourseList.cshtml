@using Entity.Entity;
@{
    Layout = null;
    var list = ViewBag.list as List<classstudent>;
    if (list == null)
    {
        list = new List<classstudent>();
    }
    //var state = ViewBag.state as Dictionary<int, int>;
    //if (state == null)
    //{
    //    state = new Dictionary<int, int>();
    //}

    //var comment = ViewBag.comment as Dictionary<int, bool>;
    //if (comment == null)
    //{
    //    comment = new Dictionary<int, bool>();
    //}
}
<input type="hidden" id="total" value="@(ViewBag.total)" />
@if (list.Count > 0)
{
    foreach (var item in list)
    {
        <li>
            <div class="hot4 halfsize"></div>
            <a class="item" href="@(Url.Action("ClassDetail", "SSKKPC", new { id = item.classid }))">
                <div class="top"><div class="icon_01" style="background-image:url(@(item.classes.courses.cover));background-size:100%;background-repeat: no-repeat;"></div></div>
                <div class="middle">
                    <h2>@(item.classes.courses.name)</h2>
                    <div class="mark_wraper">
                        <div class="clearboth"></div>
                    </div>
                    <h6> @(item.classes.courses.teacher.name)</h6>
                    <div class="V">
                        @if (item.classes.comment != null && item.classes.comment.Count > 0)
                        {
                            double i = 0;
                            foreach (var cm in item.classes.comment)
                            {
                                i += (cm.c1 + cm.c2 + cm.c3 + cm.c4 + cm.c5 + cm.c6 + cm.c7 + cm.c8 + cm.c9) / 9.0;
                            }
                            i = i / item.classes.comment.Count;
                            if (i >= 1)
                            {
                                <i class="iconfont ms" data-value="1">&#xe609;</i>
                            }
                            else
                            {
                                <i class="iconfont ms" data-value="1">&#xe60a;</i>
                            }
                            if (i >= 2)
                            {
                                <i class="iconfont ms" data-value="1">&#xe609;</i>
                            }
                            else
                            {
                                <i class="iconfont ms" data-value="1">&#xe60a;</i>
                            }
                            if (i >= 3)
                            {
                                <i class="iconfont ms" data-value="1">&#xe609;</i>
                            }
                            else
                            {
                                <i class="iconfont ms" data-value="1">&#xe60a;</i>
                            }
                            if (i >= 4)
                            {
                                <i class="iconfont ms" data-value="1">&#xe609;</i>
                            }
                            else
                            {
                                <i class="iconfont ms" data-value="1">&#xe60a;</i>
                            }
                            if (i >= 5)
                            {
                                <i class="iconfont ms" data-value="1">&#xe609;</i>
                            }
                            else
                            {
                                <i class="iconfont ms" data-value="1">&#xe60a;</i>
                            }
                        }
                        else
                        {
                            <i class="iconfont ms" data-value="1">&#xe60a;</i>
                            <i class="iconfont ms" data-value="2">&#xe60a;</i>
                            <i class="iconfont ms" data-value="3">&#xe60a;</i>
                            <i class="iconfont ms" data-value="4">&#xe60a;</i>
                            <i class="iconfont ms" data-value="5">&#xe60a;</i>
                        }

                    </div>
                </div>
                <div class="clearboth"></div>

            </a>
        </li>
    }
}
else
{
    <li class="noData_mobile" style="padding: 20px 0; background-color: rgb(238,238,238);">暂无课程</li>
}

